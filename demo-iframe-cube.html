<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Iframe Cube Demo</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);
            font-family: Arial, sans-serif;
            overflow: hidden;
        }
        
        #container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        
        .info-panel {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(26, 26, 46, 0.9);
            color: #00ffff;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #00ffff;
            z-index: 100;
            backdrop-filter: blur(10px);
            max-width: 300px;
        }
        
        .info-panel h2 {
            margin: 0 0 15px 0;
            color: #ffffff;
            text-align: center;
        }
        
        .info-panel ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .info-panel li {
            margin: 8px 0;
            line-height: 1.4;
        }
        
        .controls {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(26, 26, 46, 0.9);
            color: #00ffff;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #00ffff;
            z-index: 100;
            backdrop-filter: blur(10px);
        }
        
        .controls button {
            background: #e94560;
            color: white;
            border: none;
            padding: 8px 15px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .controls button:hover {
            background: #d32f2f;
        }
        
        .controls button.active {
            background: #4CAF50;
        }
        
        .website-list {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(26, 26, 46, 0.9);
            color: #00ffff;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #00ffff;
            z-index: 100;
            backdrop-filter: blur(10px);
        }
        
        .website-item {
            display: flex;
            align-items: center;
            margin: 8px 0;
            padding: 5px;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .website-item:hover {
            background: rgba(0, 255, 255, 0.1);
        }
        
        .website-item .face-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div id="container"></div>
    
    <!-- Info Panel -->
    <div class="info-panel">
        <h2>üéØ 3D Iframe Cube</h2>
        <ul>
            <li>üñ±Ô∏è <strong>Click</strong> cube faces to open websites</li>
            <li>üîÑ <strong>Auto-rotation</strong> with smooth animations</li>
            <li>üåê <strong>4 websites</strong> embedded in 3D space</li>
            <li>üì± <strong>Responsive</strong> iframe popups</li>
            <li>‚ö° <strong>Interactive</strong> face selection</li>
            <li>üé® <strong>Cyber theme</strong> with neon effects</li>
        </ul>
    </div>
    
    <!-- Controls -->
    <div class="controls">
        <h4 style="margin: 0 0 10px 0; color: #ffffff;">üéÆ Controls</h4>
        <button id="toggleRotation" class="active">‚è∏Ô∏è Pause Rotation</button>
        <button id="resetView">üîÑ Reset View</button>
        <button id="speedUp">‚ö° Speed Up</button>
        <button id="slowDown">üêå Slow Down</button>
    </div>
    
    <!-- Website List -->
    <div class="website-list">
        <h4 style="margin: 0 0 10px 0; color: #ffffff;">üåê Websites</h4>
        <div class="website-item" data-face="0">
            <div class="face-color" style="background: #1a1a2e;"></div>
            <span>GOONEE</span>
        </div>
        <div class="website-item" data-face="1">
            <div class="face-color" style="background: #16213e;"></div>
            <span>GOORUM</span>
        </div>
        <div class="website-item" data-face="2">
            <div class="face-color" style="background: #e94560;"></div>
            <span>PAYSTOP</span>
        </div>
        <div class="website-item" data-face="3">
            <div class="face-color" style="background: #f39c12;"></div>
            <span>GOOMETA</span>
        </div>
    </div>

    <script type="module">
        import * as THREE from 'three';
        import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';
        import { IframeCube } from './src/IframeCube.js';
        
        // Scene setup
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setClearColor(0x000000, 0);
        document.getElementById('container').appendChild(renderer.domElement);
        
        // Camera position
        camera.position.set(0, 0, 15);
        
        // Controls
        const controls = new OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.05;
        
        // Lighting
        const ambientLight = new THREE.AmbientLight(0x404040, 0.6);
        scene.add(ambientLight);
        
        const pointLight = new THREE.PointLight(0x00ffff, 1, 100);
        pointLight.position.set(10, 10, 10);
        scene.add(pointLight);
        
        const pointLight2 = new THREE.PointLight(0xff0080, 0.5, 100);
        pointLight2.position.set(-10, -10, 10);
        scene.add(pointLight2);
        
        // Background particles
        const particlesGeometry = new THREE.BufferGeometry();
        const particlesCount = 1000;
        const posArray = new Float32Array(particlesCount * 3);
        
        for (let i = 0; i < particlesCount * 3; i++) {
            posArray[i] = (Math.random() - 0.5) * 100;
        }
        
        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        
        const particlesMaterial = new THREE.PointsMaterial({
            size: 0.005,
            color: 0x00ffff,
            transparent: true,
            opacity: 0.8
        });
        
        const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
        scene.add(particlesMesh);
        
        // Create iframe cube
        const iframeCube = new IframeCube({
            size: 8,
            position: { x: 0, y: 0, z: 0 },
            autoRotate: true,
            rotationSpeed: 0.005,
            websites: [
                'https://goonee.netlify.app/',
                'https://goorum.netlify.app/',
                'https://gooneepaystop.netlify.app/',
                'https://goometa.figma.site/'
            ]
        });
        
        scene.add(iframeCube.getGroup());
        
        // Control variables
        let isRotating = true;
        let rotationSpeed = 0.005;
        
        // Control handlers
        document.getElementById('toggleRotation').addEventListener('click', (e) => {
            isRotating = !isRotating;
            iframeCube.setAutoRotate(isRotating);
            e.target.textContent = isRotating ? '‚è∏Ô∏è Pause Rotation' : '‚ñ∂Ô∏è Start Rotation';
            e.target.classList.toggle('active', isRotating);
        });
        
        document.getElementById('resetView').addEventListener('click', () => {
            controls.reset();
            iframeCube.setRotation(0, 0, 0);
        });
        
        document.getElementById('speedUp').addEventListener('click', () => {
            rotationSpeed = Math.min(rotationSpeed * 1.5, 0.05);
            iframeCube.setRotationSpeed(rotationSpeed);
        });
        
        document.getElementById('slowDown').addEventListener('click', () => {
            rotationSpeed = Math.max(rotationSpeed * 0.7, 0.001);
            iframeCube.setRotationSpeed(rotationSpeed);
        });
        
        // Website list handlers
        document.querySelectorAll('.website-item').forEach((item, index) => {
            item.addEventListener('click', () => {
                iframeCube.rotateToCube(index);
                setTimeout(() => {
                    iframeCube.openWebsite(index);
                }, 500);
            });
        });
        
        // Mouse click handler
        function onMouseClick(event) {
            iframeCube.onMouseClick(event, camera);
        }
        
        window.addEventListener('click', onMouseClick);
        
        // Animation loop
        function animate() {
            requestAnimationFrame(animate);
            
            // Update particles
            particlesMesh.rotation.y += 0.001;
            particlesMesh.rotation.x += 0.0005;
            
            // Update lights
            const time = Date.now() * 0.001;
            pointLight.position.x = Math.cos(time) * 15;
            pointLight.position.z = Math.sin(time) * 15;
            
            pointLight2.position.x = Math.sin(time * 0.7) * 15;
            pointLight2.position.z = Math.cos(time * 0.7) * 15;
            
            // Update iframe cube
            iframeCube.update();
            
            // Update controls
            controls.update();
            
            // Render
            renderer.render(scene, camera);
        }
        
        animate();
        
        // Resize handler
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
        
        // Keyboard shortcuts
        window.addEventListener('keydown', (event) => {
            switch(event.key) {
                case ' ':
                    event.preventDefault();
                    document.getElementById('toggleRotation').click();
                    break;
                case 'r':
                case 'R':
                    document.getElementById('resetView').click();
                    break;
                case '1':
                    iframeCube.rotateToCube(0);
                    break;
                case '2':
                    iframeCube.rotateToCube(1);
                    break;
                case '3':
                    iframeCube.rotateToCube(2);
                    break;
                case '4':
                    iframeCube.rotateToCube(3);
                    break;
            }
        });
        
        console.log('üéØ 3D Iframe Cube Demo loaded!');
        console.log('üéÆ Controls:');
        console.log('  - Click cube faces to open websites');
        console.log('  - Space: Toggle rotation');
        console.log('  - R: Reset view');
        console.log('  - 1-4: Rotate to specific face');
        console.log('  - Mouse: Orbit around cube');
    </script>
</body>
</html>